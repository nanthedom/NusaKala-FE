exports.id=89,exports.ids=[89],exports.modules={4780:(a,b,c)=>{"use strict";c.d(b,{cn:()=>f});var d=c(49384),e=c(82348);function f(...a){return(0,e.QP)((0,d.$)(a))}},28527:(a,b,c)=>{"use strict";c.d(b,{A:()=>g});var d=c(51060),e=c(63443);let f=d.A.create({baseURL:"https://nusakala-be-production.up.railway.app/api",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});f.interceptors.request.use(a=>a,a=>Promise.reject(a)),f.interceptors.response.use(a=>a,async a=>{let b=a.config;if(a.response?.status===401&&!b._retry){b._retry=!0;try{return await e.y.refreshToken(),f(b)}catch(a){return Promise.reject(a)}}return Promise.reject(a)});let g=f},29523:(a,b,c)=>{"use strict";c.d(b,{$:()=>i});var d=c(60687);c(43210);var e=c(8730),f=c(24224),g=c(4780);let h=(0,f.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function i({className:a,variant:b,size:c,asChild:f=!1,...i}){let j=f?e.DX:"button";return(0,d.jsx)(j,{"data-slot":"button",className:(0,g.cn)(h({variant:b,size:c,className:a})),...i})}},30823:(a,b,c)=>{Promise.resolve().then(c.bind(c,97443))},50894:(a,b,c)=>{"use strict";c.d(b,{n:()=>g});var d=c(26787),e=c(59350),f=c(63443);let g=(0,d.v)()((0,e.Zr)((a,b)=>({user:null,isAuthenticated:!1,isLoading:!1,error:null,accessToken:null,login:async(b,c)=>{a({isLoading:!0,error:null});try{let d=await f.y.login({email:b,password:c}),e={user:d.user,isAuthenticated:!0,isLoading:!1,error:null,accessToken:d.session.accessToken};a(e)}catch(b){throw a({isLoading:!1,error:b instanceof Error?b.message:"Login failed"}),b}},register:async b=>{a({isLoading:!0,error:null});try{a({user:null,isAuthenticated:!1,isLoading:!1,error:null,accessToken:null})}catch(b){throw console.error("Auth store: Registration error:",b),a({isLoading:!1,error:b instanceof Error?b.message:"Registration failed"}),b}},logout:async()=>{a({isLoading:!0});try{await f.y.logout()}catch(a){}finally{a({user:null,isAuthenticated:!1,isLoading:!1,error:null,accessToken:null})}},refreshUser:async()=>{if(b().isAuthenticated)try{let b={user:(await f.y.getCurrentUser()).user,isAuthenticated:!0,error:null};a(b)}catch(b){a({user:null,isAuthenticated:!1,error:null,accessToken:null})}},clearError:()=>{a({error:null})}}),{name:"auth-storage",partialize:a=>({user:a.user,isAuthenticated:a.isAuthenticated,accessToken:a.accessToken})}))},60729:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,16133,23)),Promise.resolve().then(c.t.bind(c,16444,23)),Promise.resolve().then(c.t.bind(c,16042,23)),Promise.resolve().then(c.t.bind(c,49477,23)),Promise.resolve().then(c.t.bind(c,29345,23)),Promise.resolve().then(c.t.bind(c,12089,23)),Promise.resolve().then(c.t.bind(c,46577,23)),Promise.resolve().then(c.t.bind(c,31307,23)),Promise.resolve().then(c.t.bind(c,14817,23))},61135:()=>{},63443:(a,b,c)=>{"use strict";c.d(b,{y:()=>j});var d=c(28527),e=c(51060);let f="https://nusakala-be-production.up.railway.app/api",g=e.A.create({baseURL:f,headers:{"Content-Type":"application/json"}}),h=e.A.create({baseURL:f,headers:{"Content-Type":"application/json"}});h.interceptors.request.use(a=>a,a=>Promise.reject(a));class i{async register(a){try{return(await g.post("/auth/register",a)).data}catch(a){if(console.error("Registration error details:",a),e.A.isAxiosError(a)&&(console.error("Response data:",a.response?.data),console.error("Response status:",a.response?.status),console.error("Response headers:",a.response?.headers),a.response?.data))throw Error(a.response.data.error||a.response.data.message||"Registration failed");throw Error("Network error occurred")}}async login(a){try{return(await g.post("/auth/login",a)).data}catch(a){if(e.A.isAxiosError(a)&&a.response?.data)throw Error(a.response.data.error||"Login failed");throw Error("Network error occurred")}}async logout(){try{return(await d.A.post("/auth/logout")).data}catch(a){if(e.A.isAxiosError(a)&&a.response?.data)throw Error(a.response.data.error||"Logout failed");throw Error("Network error occurred")}}async refreshToken(){try{return(await h.post("/auth/refresh")).data}catch(a){if(e.A.isAxiosError(a)&&a.response?.data)throw Error(a.response.data.error||"Token refresh failed");throw Error("Network error occurred")}}async getCurrentUser(){try{return(await d.A.get("/auth/me")).data}catch(a){if(e.A.isAxiosError(a)&&a.response?.data)throw Error(a.response.data.error||"Failed to get user info");throw Error("Network error occurred")}}}let j=new i},70143:(a,b,c)=>{Promise.resolve().then(c.bind(c,88221))},70440:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(31658);let e=async a=>[{type:"image/x-icon",sizes:"16x16",url:(0,d.fillMetadataSegment)(".",await a.params,"favicon.ico")+""}]},88221:(a,b,c)=>{"use strict";c.d(b,{AuthProvider:()=>f});var d=c(60687),e=c(43210);function f({children:a}){let[b,c]=(0,e.useState)(!1);return b?(0,d.jsx)(d.Fragment,{children:a}):(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-nusa-dark-brown mx-auto"}),(0,d.jsx)("p",{className:"mt-2 text-nusa-brown",children:"Loading..."})]})})}},94431:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>i,metadata:()=>h});var d=c(37413),e=c(85041),f=c.n(e);c(61135);var g=c(97443);let h={title:"NusaKala",description:"Platform untuk connecting culture bagi wisatawan yang berkunjung ke Indonesia",keywords:["indonesia","culture","travel","nusantara","budaya"],metadataBase:new URL("https://nusakala.vercel.app"),authors:[{name:"NusaKala Team"}],icons:{icon:"/nusakala-icon.svg",shortcut:"/nusakala-icon.svg",apple:"/nusakala-icon.svg"},openGraph:{title:"NusaKala - Connecting Indonesian Culture",description:"Platform untuk connecting culture bagi wisatawan yang berkunjung ke Indonesia",url:"https://nusākāla.com",siteName:"NusaKala",images:[{url:"/nusakala-icon.svg",width:512,height:512,alt:"NusaKala - Indonesian Culture Platform"}],locale:"id_ID",type:"website"},twitter:{card:"summary_large_image",title:"NusaKala - Connecting Indonesian Culture",description:"Platform untuk connecting culture bagi wisatawan yang berkunjung ke Indonesia",images:["/nusakala-icon.svg"]}};function i({children:a}){return(0,d.jsx)("html",{lang:"id",children:(0,d.jsx)("body",{className:f().className,children:(0,d.jsx)(g.AuthProvider,{children:a})})})}},97177:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,25227,23)),Promise.resolve().then(c.t.bind(c,86346,23)),Promise.resolve().then(c.t.bind(c,27924,23)),Promise.resolve().then(c.t.bind(c,40099,23)),Promise.resolve().then(c.t.bind(c,38243,23)),Promise.resolve().then(c.t.bind(c,28827,23)),Promise.resolve().then(c.t.bind(c,62763,23)),Promise.resolve().then(c.t.bind(c,97173,23)),Promise.resolve().then(c.bind(c,25587))},97443:(a,b,c)=>{"use strict";c.d(b,{AuthProvider:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\naufn\\Documents\\GarudaHack\\NusaKala-FE\\src\\components\\common\\AuthProvider.tsx","AuthProvider")}};